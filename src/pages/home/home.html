<ion-header>
  <ion-navbar>
    <ion-title>
      Discook
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="changePage('favoris')">
        <ion-icon name="heart"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons end>
      <button ion-button icon-only (click)="changePage('parametre')">
        <ion-icon name="settings"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-searchbar placeholder="Search" type="text" (keyup.enter)="onSearch($event)" (ionClear)="clearSearch()"></ion-searchbar>

  <ion-grid *ngIf="searchValue!=null && searchValue!=''">
    <div *ngFor="let recette of resultlist">
      <ion-row *ngIf="resultlist.indexOf(recette)%2 == 0">
        <ion-col col-6>
          <ion-card (tap)="onClickRecette(recette)">
            <img [src]="recette.image | safe:'url'">
            <p>{{recette.nom}}</p>
          </ion-card>
        </ion-col>
        <ion-col *ngIf="resultlist.indexOf(recette)+1<resultlist.length">
          <ion-card (tap)="onClickRecette(resultlist[resultlist.indexOf(recette)+1])">
            <img [src]="resultlist[resultlist.indexOf(recette)+1].image | safe:'url'">
            <p>{{ resultlist[resultlist.indexOf(recette)+1].nom }}</p>
          </ion-card>
        </ion-col>
      </ion-row>
    </div>
  </ion-grid>

  <ion-grid *ngIf="searchValue==null || searchValue==''">
    <div *ngFor="let recette of recetteList">
      <ion-row *ngIf="recetteList.indexOf(recette)%2 == 0">
        <ion-col col-6>
          <ion-card (tap)="onClickRecette(recette)">
            <img [src]="recette.image | safe:'url'">
            <p>{{recette.nom}}</p>
          </ion-card>
        </ion-col>
        <ion-col *ngIf="recetteList.indexOf(recette)+1<recetteList.length">
          <ion-card (tap)="onClickRecette(recetteList[recetteList.indexOf(recette)+1])">
            <img [src]="recetteList[recetteList.indexOf(recette)+1].image | safe:'url'">
            <p>{{ recetteList[recetteList.indexOf(recette)+1].nom }}</p>
          </ion-card>
        </ion-col>
      </ion-row>
    </div>
  </ion-grid>

  <button (click)="test()">test</button>
</ion-content>
